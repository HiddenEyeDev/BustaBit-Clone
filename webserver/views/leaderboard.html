{{##def.page_title = 'Leader Board' #}}

{{##def.content:
<div class="container mx-auto px-4 py-12 max-w-5xl">
  <div class="bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-xl shadow-xl p-8">
    
    <!-- Header -->
    <div class="border-b border-slate-700 pb-5 mb-8 flex items-center justify-between">
      <div>
        <h2 class="text-3xl font-bold text-white">Top 100 Players</h2>
        <p class="text-slate-400 mt-1 text-sm">Updated leaderboard showing the best players by gross and net profit.</p>
      </div>
      <a href="#top" class="hidden md:inline-block border border-rose-500 text-rose-400 hover:bg-rose-500/20 px-4 py-2 rounded-lg text-sm font-medium transition">Back to Top</a>
    </div>

    <!-- Table -->
    <div class="overflow-x-auto rounded-lg border border-slate-700">
      <table class="min-w-full divide-y divide-slate-700 text-sm text-slate-300">
        <thead class="bg-slate-900/60">
          <tr>
            <th class="px-4 py-3 text-left font-semibold text-slate-200">Rank</th>
            <th class="px-4 py-3 text-left font-semibold text-slate-200">Player</th>
            <th class="px-4 py-3 text-left font-semibold text-slate-200">
              <div class="flex items-center gap-2">
                {{?it.sortBy != 'gross_profit'}}
                  <a href="/leaderboard" class="hover:text-cyan-400 transition">
                    <i class="fa fa-sort-desc"></i>
                  </a>
                {{?}}
                Gross Profit
                <a href="/faq#gross-profit" class="text-slate-400 hover:text-cyan-400 transition" title="Learn more about Gross Profit">?</a>
              </div>
            </th>
            <th class="px-4 py-3 text-left font-semibold text-slate-200">
              <div class="flex items-center gap-2">
                {{?it.sortBy != 'net_profit' || it.order != 'DESC'}}
                  <a href="/leaderboard?by=net_desc" class="hover:text-cyan-400 transition"><i class="fa fa-sort-desc"></i></a>
                {{?}}
                Net Profit
                {{?it.sortBy != 'net_profit' || it.order != 'ASC'}}
                  <a href="/leaderboard?by=net_asc" class="hover:text-cyan-400 transition"><i class="fa fa-sort-asc"></i></a>
                {{?}}
              </div>
            </th>
          </tr>
        </thead>
        <tbody class="divide-y divide-slate-700">
          {{~it.leaders :leader:index}}
          <tr class="hover:bg-slate-700/40 transition">
            <td class="px-4 py-3 font-mono text-slate-400">{{=leader.rank}}</td>
            <td class="px-4 py-3">
              <a href="/user/{{=leader.username}}" class="text-cyan-400 hover:text-cyan-300 font-medium transition">{{=leader.username}}</a>
            </td>
            <td class="px-4 py-3 font-mono text-slate-200">
              {{#def.format: { n: leader.gross_profit, decimals: 2 } }}
            </td>
            <td class="px-4 py-3 font-mono text-slate-200">
              {{#def.format: { n: leader.net_profit, decimals: 2 } }}
            </td>
          </tr>
          {{~}}
        </tbody>
      </table>
    </div>

    <!-- Back to top -->
    {{?it.leaders.length > 20}}
      <div class="mt-8 text-right">
        <a href="#top" class="inline-block border border-rose-500 text-rose-400 hover:bg-rose-500/20 px-4 py-2 rounded-lg text-sm font-medium transition">Back to Top</a>
      </div>
    {{?}}
  </div>
</div>
#}}

{{#def.include('./template/main_new')}}
